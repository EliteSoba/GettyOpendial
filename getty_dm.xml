<?xml version="1.0" encoding="UTF-8"?>
<domain>
	<!-- Dialogue Management -->
	<model trigger="NameOfCultureStatus,NameOfArtistStatus,TitleOfArtworkStatus">
		<!-- Based on DBModule, we'll never have a tentative NoCS -->
		<!--rule id="NoCS Fill">
			<case>
				<condition>
					<if var="NameOfCultureStatus" value="tentative" relation = "="/>
				</condition>
				<condition>
					<if var="current_step" value="NameOfCulture" />
				</condition>
				<effect util="1">
					<set var="a_m" value="Ground(NameOfCulture, {NameOfCulture})" />
				</effect>
			</case>
		</rule-->
		<rule id="NoAS Fill">
			<case>
				<condition>
					<if var="NameOfArtistStatus" value="tentative" relation="="/>
				</condition>
				<condition>
					<if var="current_step" value="NameOfArtist" />
				</condition>
				<!-- The cooler thing would probably be to set the confidence = 1/len(results) in DBModule -->
				<effect util="1">
					<set var="a_m" value="Confirm(NameOfArtist, {NameOfArtist})" />
				</effect>
			</case>
		</rule>
	</model>
	
	<model trigger="a_m">
		<rule id="Ground NoC">
			<case>
				<condition>
					<if var="a_m" value="Ground(NameOfCulture)" />
				</condition>
				<effect util="1">
					<!--set var="u_m" value="Temp confirmation message. Real thing in nlg. {NoC}." /-->
					<set var="current_step" value="NameOfArtist" />
					<set var="GetArtists" value="{NameOfCulture}" />
				</effect>
			</case>
		</rule>
		<rule id="Ground NoA">
			<case>
				<condition>
					<if var="a_m" value="Ground(NameOfArtist)" />
				</condition>
				<effect util="1">
					<!--set var="u_m" value="Temp confirmation message. Real thing in nlg. {NoA}." /-->
					<set var="current_step" value="TitleOfArtwork" />
					<set var="GetTitles" value="{NameOfArtist}" />
				</effect>
			</case>
		</rule>
		<rule id="Ground ToA">
			<case>
				<condition>
					<if var="a_m" value="Ground(TitleOfArtwork)" />
				</condition>
				<effect util="1">
					<!--set var="u_m" value="All right, what would you like to know about {ToA}?" /-->
					<set var="current_step" value="Explain" />
					<set var="GetData" value="{TitleOfArtwork}" />
				</effect>
			</case>
		</rule>
	</model>
</domain>